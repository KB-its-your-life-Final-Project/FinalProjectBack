<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lighthouse.buildingRegister.mapper.BuildingRegisterMapper">

    <!-- 1. building_register 저장 -->
    <!-- keyProperty="id"로 VO에 저장된 id값이 setter로 저장됨   -->
    <insert id="insertBuildingRegister" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO api_building_register (
            res_doc_no, type, comm_uniqe_no, res_addr_dong, res_number,
            res_user_addr, comm_addr_lot_number, comm_addr_road_name, res_note,
            res_issue_date, res_issue_ogz_nm, res_ori_ginal_data, res_violation_status,
            req_dong, req_ho, latitude, longitude
        ) VALUES (
                     #{resDocNo}, #{type}, #{commUniqeNo}, #{resAddrDong}, #{resNumber},
                     #{resUserAddr}, #{commAddrLotNumber}, #{commAddrRoadName}, #{resNote},
                     #{resIssueDate}, #{resIssueOgzNm}, #{resOriGinalData}, #{resViolationStatus},
                     #{reqDong}, #{reqHo}, #{latitude}, #{longitude}
                 )
    </insert>

    <!-- 2. building_register_detail -->
    <insert id="insertBuildingRegisterDetail">
        INSERT INTO api_building_register_detail (register_id, res_type, res_contents)
        VALUES (#{registerId}, #{resType}, #{resContents})
    </insert>

    <!-- 3. building_register_building_status -->
    <insert id="insertBuildingRegisterStatus">
        INSERT INTO api_building_register_building_status (register_id, res_type, res_floor, res_structure, res_use_type, res_area)
        VALUES (#{registerId}, #{resType}, #{resFloor}, #{resStructure}, #{resUseType}, #{resArea})
    </insert>

    <!-- 4. building_register_parking_lot_status -->
    <insert id="insertBuildingRegisterParkingLot">
        INSERT INTO api_building_register_parking_lot_status (register_id, res_area, res_number, res_type)
        VALUES (#{registerId}, #{resArea}, #{resNumber}, #{resType})
    </insert>

    <!-- 5. building_register_auth_status -->
    <insert id="insertBuildingRegisterAuth">
        INSERT INTO api_building_register_auth_status (register_id, res_type, res_type1, res_contents)
        VALUES (#{registerId}, #{resType}, #{resType1}, #{resContents})
    </insert>

    <!-- 6. building_register_change -->
    <insert id="insertBuildingRegisterChange">
        INSERT INTO api_building_register_change (register_id, res_change_date, res_change_reason, res_note, res_issue_date, res_issue_ogz_nm, res_ori_ginal_data)
        VALUES (#{registerId}, #{resChangeDate}, #{resChangeReason}, #{resNote}, #{resIssueDate}, #{resIssueOgzNm}, #{resOriGinalData})
    </insert>

    <!-- 7. building_register_owner -->
    <insert id="insertBuildingRegisterOwner">
        INSERT INTO api_building_register_owner (register_id, res_owner, res_identity_no, res_user_addr, res_ownership_stake, res_change_date, res_change_reason)
        VALUES (#{registerId}, #{resOwner}, #{resIdentityNo}, #{resUserAddr}, #{resOwnershipStake}, #{resChangeDate}, #{resChangeReason})
    </insert>

    <!-- 8. building_register_license_class -->
    <insert id="insertBuildingRegisterLicense">
        INSERT INTO api_building_register_license_class (register_id, res_license_no, res_type, res_user_nm)
        VALUES (#{registerId}, #{resLicenseNo}, #{resType}, #{resUserNm})
    </insert>

</mapper>
